<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/layout/Order.css"/>
  <title>Hello World!</title>
</head>
<body>
<nav th:replace="layout/navbar.html"></nav>
<div class="container-box">
  <div class="content_box">
    <div class="title_box">
    <span class="order_title">
      Order
    </span>
    </div>
    <!--  상품정보    -->
    <div class="product_title_box">
      <span class="product_title">product</span>
      <div class="product" >
        <img src="https://i.postimg.cc/15KqsFbz/1-1200-600.png"/>
        <div class="product_detail">
          <div>
            <p> 상품명 :</p>
            <p>디아블로(타임리프)</p>
          </div>
          <div>
            <p>가격 :</p>
            <p>35,000(타임리프)</p>
            <p> won</p>
          </div>
        </div>
      </div>
    </div>
    <!--  구매자정보    -->
    <div class="product_title_box">
      <span class="product_title">customer</span>
      <div class="product" >
        <div class="customer">
          <p>회원 ID :</p>
          <p> admin1234(타임리프)</p>
        </div>
        <br>
        <div class="customer">
          <p>구매자명 :</p>
          <input type="text" placeholder="무통장입금 시 입금자명과 동일해야 합니다.">
        </div>
        <br>
        <div class="customer">
          <p>e-mail :</p>
          <input type="text" placeholder="게임코드를 받으실 e-mail 주소를 입력해 주세요.">
        </div>
      </div>
    </div>
    <!--   결제정보   -->
    <div class="product_title_box">
      <span class="product_title">payment</span>
      <div class="product" >
        <label class="pay_check"><input type="checkbox" name="pay1" value="무통장입금" > 무통장 입금</label>
        <label class="pay_check"><input type="checkbox" name="pay2" value="간편결제" > 간편결제</label>
        <div class="pay_box">
          <div class="account_number">
            <p>무통장입금
              카카오뱅크 3333-03-1659896 오택주</p>
          </div>

          <div class="toss_pay">
            <button type="button" >토스 간편결제</button>
          </div>
        </div>
      </div>
    </div>
    <!--   결제정보 끝   -->
    <div class="bt_box">
      <button class="order_button" type="submit" id="btn_search">주문하기</button>
      <button class="exit_button" type="submit" id="btn_search">뒤로가기</button>
    </div>
  </div>

</div>


<footer th:replace="layout/footer.html"></footer>

<script>
  // 체크박스 선택에 따라 계좌번호를 보이거나 숨기는 함수입니다.
  function toggleAccountNumberVisibility() {
    var checkbox = document.querySelector('input[name="pay1"][value="무통장입금"]');
    var accountNumberDiv = document.querySelector('.account_number');

    if (checkbox.checked) {
      accountNumberDiv.style.display = 'inline-block';
    } else {
      accountNumberDiv.style.display = 'none';
    }
  }

  // 체크박스에 이벤트 리스너를 추가합니다.
  document.addEventListener('DOMContentLoaded', function() {
    var checkbox = document.querySelector('input[name="pay1"][value="무통장입금"]');
    checkbox.addEventListener('change', toggleAccountNumberVisibility);
  });
</script>


<script>
  // 체크박스 선택에 따라 토스 간편결제를 보이거나 숨기는 함수입니다.
  function toggleTossPayVisibility() {
    var checkbox = document.querySelector('input[name="pay2"][value="간편결제"]');
    var tossPayDiv = document.querySelector('.toss_pay');

    if (checkbox.checked) {
      tossPayDiv.style.display = 'block';
    } else {
      tossPayDiv.style.display = 'none';
    }
  }

  // 체크박스에 이벤트 리스너를 추가합니다.
  document.addEventListener('DOMContentLoaded', function() {
    var checkbox = document.querySelector('input[name="pay2"][value="간편결제"]');
    checkbox.addEventListener('change', toggleTossPayVisibility);
  });
</script>



<!-- 중복체크 방지 -->


<script>
  // 무통장 입금 체크박스 선택 여부를 확인하는 함수입니다.
  function isBankTransferSelected() {
    var bankTransferCheckbox = document.querySelector('input[name="pay1"][value="무통장입금"]');
    return bankTransferCheckbox.checked;
  }

  // 간편결제 체크박스 선택 여부를 확인하는 함수입니다.
  function isTossPaySelected() {
    var tossPayCheckbox = document.querySelector('input[name="pay2"][value="간편결제"]');
    return tossPayCheckbox.checked;
  }

  // 체크박스 선택에 따라 중복 체크를 방지하는 함수입니다.
  function preventCheckboxOverlap() {
    var bankTransferCheckbox = document.querySelector('input[name="pay1"][value="무통장입금"]');
    var tossPayCheckbox = document.querySelector('input[name="pay2"][value="간편결제"]');

    if (isBankTransferSelected() && isTossPaySelected()) {
      bankTransferCheckbox.checked = false;
      toggleAccountNumberVisibility();
      alert("결제방법은 중복체크가 불가능합니다.");
    } else if (!isBankTransferSelected() && !isTossPaySelected()) {
      bankTransferCheckbox.checked = true;
      toggleAccountNumberVisibility();
      alert("결제방법은 중복체크가 불가능합니다.");
    }else if (!isBankTransferSelected() && !isTossPaySelected()) {
      tossPayCheckbox.checked = false;
      toggleTossPayVisibility();
      alert("결제방법은 중복체크가 불가능합니다.");
    }else if (!isBankTransferSelected() && !isTossPaySelected()) {
      tossPayCheckbox.checked = true;
      toggleTossPayVisibility();
      alert("결제방법은 중복체크가 불가능합니다.");
    }

  }

  // 체크박스에 이벤트 리스너를 추가합니다.
  document.addEventListener('DOMContentLoaded', function() {
    var bankTransferCheckbox = document.querySelector('input[name="pay1"][value="무통장입금"]');
    var tossPayCheckbox = document.querySelector('input[name="pay2"][value="간편결제"]');

    bankTransferCheckbox.addEventListener('change', function() {
      preventCheckboxOverlap();
      toggleAccountNumberVisibility();
    });

    tossPayCheckbox.addEventListener('change', function() {
      preventCheckboxOverlap();
      toggleTossPayVisibility();
    });
  });
</script>
</body>
</html>