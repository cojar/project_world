<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">
<script type="text/javascript" th:src="@{/jquery-3.7.0.min.js}"></script>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/layout/Product_detail.css"/>
    <title>world</title>
</head>
<nav th:replace="layout/navbar.html"></nav>
<section>
    <div class="inner-container">
        <div class="panel-Inner"></div>
        <div class="image-panel">
            <img src="https://cdn.gametoc.co.kr/news/photo/202303/71814_222692_543.jpg" alt="" style="width: 100%; height: 700px;">
        </div>
        <div class="panel-productName" th:text="${product.productName}">
        </div>
        <div class="panel-developer" th:text="${product.developer}">
        </div>
        <div class="panel-price" th:text="${product.price + ' won'}">
        </div>
        <button class="panel-btn">BuyNow</button>
    </div>

    <div class="product-detail-classification">
        <div class="classify-btn-box">
            <button class="tab-btn" id="detail" data-tab="detail">DETAIL</button>
            <button class="tab-btn" id="specification" data-tab="specification">시스템 요구 사항</button>
            <button class="tab-btn" id="review"data-tab="review">REVIEW </button>
            <button class="tab-btn" id="inquiry"data-tab="inquiry">상품문의</button>
        </div>
    </div>

    <div class="tab-content" data-tab="detail">
        <div class="detail-box">
            <div >게임명:
                <br>
                <span class="detail-productName" th:text="${product.productName}"></span>
            </div>
            <div>개발사:
                <br>
                <span class="detail-developer" th:text="${product.developer}"></span>
            </div>
            <div>장르:
                <br>
                <span class="detail-theme" th:text="${product.theme}"></span>
            </div>
            <div>게임 설명:
                <br>
            <span class="detail-content" th:text="${product.content}"></span>
            </div>
        </div>
    </div>

    <div class="tab-content" data-tab="specification">
        <div class="menu"></div>
        <div class="radio-container">
            <div class="radio-window">
                <input type="radio" id="window" name="specification" checked>
                <label for="window">Window</label>
            </div>
            <div class="radio-mac">
                <input type="radio" id="Mac" name="specification">
                <label for="Mac">Mac</label>
            </div>
        </div>


        <table class="window-specification" th:if="${not #lists.isEmpty(product.windowMinList) or not #lists.isEmpty(product.windowRecommendedList)}">
            <thead>
            <tr>
                <th colspan="2">Window 최소</th>
                <th colspan="2">Window 권장</th>
            </tr>
            </thead>
            <tbody>
            <th:block th:each="windowMin, index : ${product.windowMinList}">
                <tr>
                    <td class="text-only">운영체제</td>
                    <td class="list-data" th:text="${windowMin.operatingSystem}"></td>
                    <td class="text-only">운영체제</td>
                    <td class="list-data" th:text="${product.windowRecommendedList[__${index.index}__].operatingSystem}"></td>
                </tr>
                <tr>
                    <td class="text-only">프로세서</td>
                    <td class="list-data" th:text="${windowMin.processor}"></td>
                    <td class="text-only">프로세서</td>
                    <td class="list-data" th:text="${product.windowRecommendedList[__${index.index}__].processor}"></td>
                </tr>
                <tr>
                    <td class="text-only">RAM</td>
                    <td class="list-data" th:text="${windowMin.memory}"></td>
                    <td class="text-only">RAM</td>
                    <td class="list-data" th:text="${product.windowRecommendedList[__${index.index}__].memory}"></td>
                </tr>
                <tr>
                    <td class="text-only">그래픽</td>
                    <td class="list-data" th:text="${windowMin.graphics}"></td>
                    <td class="text-only">그래픽</td>
                    <td class="list-data" th:text="${product.windowRecommendedList[__${index.index}__].graphics}"></td>
                </tr>
                <tr>
                    <td class="text-only">저장공간</td>
                    <td class="list-data" th:text="${windowMin.storage}"></td>
                    <td class="text-only">저장공간</td>
                    <td class="list-data" th:text="${product.windowRecommendedList[__${index.index}__].storage}"></td>
                </tr>
                <tr th:if="${windowMin.directAccess != null and windowMin.directAccess != ''}">
                    <td class="text-only">DirectX</td>
                    <td class="list-data" th:text="${windowMin.directAccess}"></td>
                    <td class="text-only">DirectX</td>
                    <td class="list-data" th:text="${product.windowRecommendedList[__${index.index}__].directAccess}"></td>
                </tr>
                <tr th:if="${windowMin.network != null and windowMin.network != ''}">
                    <td class="text-only">네트워크</td>
                    <td class="list-data" th:text="${windowMin.network}"></td>
                    <td class="text-only">네트워크</td>
                    <td class="list-data" th:text="${product.windowRecommendedList[__${index.index}__].network}"></td>
                </tr>
            </th:block>
            </tbody>
        </table>

        <table class="mac-specification" th:if="${not #lists.isEmpty(product.macMinList) or not #lists.isEmpty(product.macRecommendedList)}">
            <thead>
            <tr>
                <th colspan="2">Mac 최소</th>
                <th colspan="2">Mac 권장</th>
            </tr>
            </thead>
            <tbody>
            <th:block th:each="macMin, index : ${product.macMinList}">
                <tr>
                    <td class="text-only">운영체제</td>
                    <td class="list-data" th:text="${macMin.operatingSystem}"></td>
                    <td class="text-only">운영체제</td>
                    <td class="list-data" th:text="${product.macRecommendedList[__${index.index}__].operatingSystem}"></td>
                </tr>
                <tr>
                    <td class="text-only">프로세서</td>
                    <td class="list-data" th:text="${macMin.processor}"></td>
                    <td class="text-only">프로세서</td>
                    <td class="list-data" th:text="${product.macRecommendedList[__${index.index}__].processor}"></td>
                </tr>
                <tr>
                    <td class="text-only">RAM</td>
                    <td class="list-data" th:text="${macMin.memory}"></td>
                    <td class="text-only">RAM</td>
                    <td class="list-data" th:text="${product.macRecommendedList[__${index.index}__].memory}"></td>
                </tr>
                <tr>
                    <td class="text-only">그래픽</td>
                    <td class="list-data" th:text="${macMin.graphics}"></td>
                    <td class="text-only">그래픽</td>
                    <td class="list-data" th:text="${product.macRecommendedList[__${index.index}__].graphics}"></td>
                </tr>
                <tr>
                    <td class="text-only">저장공간</td>
                    <td class="list-data" th:text="${macMin.storage}"></td>
                    <td class="text-only">저장공간</td>
                    <td class="list-data" th:text="${product.macRecommendedList[__${index.index}__].storage}"></td>
                </tr>
                <tr th:if="${macMin.directAccess != null and macMin.directAccess != ''}">
                    <td class="text-only">DirectX</td>
                    <td class="list-data" th:text="${macMin.directAccess}"></td>
                    <td class="text-only">DirectX</td>
                    <td class="list-data" th:text="${product.macRecommendedList[__${index.index}__].directAccess}"></td>
                </tr>
                <tr th:if="${macMin.network != null and macMin.network != ''}">
                    <td class="text-only">네트워크</td>
                    <td class="list-data" th:text="${macMin.network}"></td>
                    <td class="text-only">네트워크</td>
                    <td class="list-data" th:text="${product.macRecommendedList[__${index.index}__].network}"></td>
                </tr>
            </th:block>
            </tbody>
        </table>
    </div>

</section>
<footer th:replace="layout/footer.html"></footer>
<script>
$(document).ready(function() {
    $(".tab-content").hide();
    $(".tab-content[data-tab='detail']").show();
    $(".tab-btn").click(function() {
        var tab_id = $(this).attr("data-tab");
        $(".tab-btn").removeClass("current");
        $(".tab-content").hide();
        $(".tab-content[data-tab='" + tab_id + "']").show();
        $(this).addClass("current");


        // 시스템 사양 탭인 경우, 라디오 버튼에 따라 해당 테이블을 보이거나 숨김 처리
        if (tab_id === "specification") {
            if ($("#window").prop('checked')) {
                $(".window-specification").show();
                $(".mac-specification").hide();
            } else {
                $(".mac-specification").show();
                $(".window-specification").hide();
            }
        }
    });

    $("#window").on('click', function() {
        if ($(this).prop('checked')) {
            $(".window-specification").show();
            $(".mac-specification").hide();
        }
    });

    $("#Mac").on('click', function() {
        if ($(this).prop('checked')) {
            $(".mac-specification").show();
            $(".window-specification").hide();
        }
    });

    if ($(".window-specification tbody tr").length === 0) {
        $(".radio-window").addClass("hidden");
        $(".mac-specification").show();
        $("#Mac").prop("checked", true);
    } else if ($(".mac-specification tbody tr").length === 0) {
        $(".radio-mac").addClass("hidden");
        $(".window-specification").show();
        $("#window").prop("checked", true);
    }
});
</script>
</html>
